<div id="templates-new">

<h2>Mes cours comme Prof +</h2>
    <button class="open-button btn-rectangle" onclick="openFormTemplate()">+ Créer un nouveau type de cours</button>
    <button class="open-button btn-rectangle" onclick="openFormLesson()"> Ajouter un cours au planning</button>

<% @templates.each do |template| %>
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-6">
        <div class="card">
          <div class="image">
            <%= image_tag "empty.jpg" %>
          </div>
          <div class="card-content">
            <div class="card-content-left">
              <p class="lesson-type medium"> <%= template.template_name %> </p>
              <p class="lesson-level"> <%=template.template_level %> </p>
              <p class="lesson-teacher medium"> <%= @eleve.name.capitalize %> <%= @eleve.surname.capitalize %> </p>
              <p class="lesson-date"><%= 'Jour' %> à <%= '00h00' %></p>
              <p class="lesson-language">Cours en Français</p>
              <!-- <div class="lesson-notation">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
                <span class="__number">(3)</span>
              </div> -->
            </div>
            <div class="card-content-right">
              <div class="card-content-right-top">
                <p class="lesson-price medium">
                  00€
                </p>
                <p class="lesson-duration">00min</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>

<div id="template-new" class='form-popup'>
  <i class="far fa-times-circle" onclick="closeFormTemplate()"></i>
  <h2>CRÉER UN TYPE DE COURS</h2>
  <%= simple_form_for @template do |f| %>
    <%= f.association :activity, collection: @activities, label_method: :activity_name, value_method: :id, label: "Type d'activité", placeholder: "Choisissez le type d'activité"%>
    <%= f.association :sport, collection: @sports, label_method: :sport_name, value_method: :id, label: 'Type de sport', placeholder: 'Choisissez le type de sport' %>
    <%= f.input :template_name, label: 'Intitulé du cours' , placeholder: 'Indiquez le nom du cours' %>
    <%= f.input :template_level, collection: ['Tous niveaux', 'Débutant', 'Intermédiaire', 'Avancé'], label: 'Niveau', placeholder: 'Définissez le niveau du cours' %>
    <%= f.input :template_description, label: 'Descriptif du cours', placeholder: 'Décrivez le cours, ses bénéfices, ce qui sera abordé, etc.' %>
    <%= f.input :template_material_needed, label: 'Matériel nécessaire pour ce cours', placeholder: 'Indiquez le matériel nécessaire pour participer à ce cours. Si aucun matériel n’est nécessaire, précisez “aucun”.' %>
    <%= f.submit 'Enregistrer', class: 'btn-rectangle' %>
  <% end %>
</div>
<div id="lesson-new" class='form-popup'>
  <i class="far fa-times-circle" onclick="closeFormLesson()"></i>
  <h2>AJOUTER UN COURS AU PLANNING</h2>
  <%= simple_form_for @lesson do |f| %>
    <%= f.association :template, collection: @templates, label_method: :template_name, value_method: :id, label: 'Choisir le cours', placeholder: 'Choisissez votre cours' %>
    <%= f.input :lesson_date, as: :string, input_html: {class: "datepicker"}, label: 'Date', placeholder: 'Choisissez la date du cours' %>
    <%= f.input :start, as: :time,  label: 'Horaire du début du cours', placeholder: "Choisissez l'horaire de début du cours" %>
    <%= f.input :lesson_duration, label: 'Durée', placeholder: 'Définissez la durée du cours' %>
    <%= f.input :lesson_language, collection: Lesson::LANGUES, label: 'Langue', placeholder: 'Choisissez la langue de ce cours' %>
    <p>Tarif du cours</p>
    <%= f.input :lesson_price, label: 'Tarif du cours', placeholder: '€' %>
     <p>Proposer une offre ponctuelle</p>
    <%= f.input :lesson_discount_price, label: "Tarif de l'offre ponctuelle", placeholder: '€', hint: '(valable pour tous les élèves)' %>
    <%= f.submit 'Enregistrer', class: 'btn-rectangle' %>
  <% end %>
</div>

<script>
  function openFormTemplate() {
    document.getElementById("lesson-new").style.display = "none"
    document.getElementById("template-new").style.display = "block";
  }
  function closeFormTemplate() {
    document.getElementById("template-new").style.display = "none";
  }
  function openFormLesson() {
    document.getElementById("template-new").style.display = "none";
    document.getElementById("lesson-new").style.display = "block";
  }
  function closeFormLesson() {
    document.getElementById("lesson-new").style.display = "none";
  }
</script>
